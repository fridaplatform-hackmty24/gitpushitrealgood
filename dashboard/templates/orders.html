{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <title>Monitoring - GreenGuard</title>

    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="description" content="Monitoring - GreenGuard">
    <meta name="author" content="GreenGuard">
    <link rel="shortcut icon" href="{% static 'favicon.ico' %}">

    <!-- FontAwesome JS-->
    <script defer src="{% static 'assets/plugins/fontawesome/js/all.min.js' %}"></script>

    <!-- App CSS -->
    <link id="theme-style" rel="stylesheet" href="{% static 'assets/css/portal.css' %}">
</head>

<body class="app cool-background">
    <header class="app-header fixed-top">
        <div class="app-header-inner">
            <div class="container-fluid py-2">
                <div class="app-header-content">
                    <div class="row justify-content-between align-items-center">

                        <div class="col-auto">
                            <a id="sidepanel-toggler" class="sidepanel-toggler d-inline-block d-xl-none" href="#">
                                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30"
                                    role="img">
                                    <title>Menu</title>
                                    <path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10"
                                        stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path>
                                </svg>
                            </a>
                        </div><!--//col-->
                        <div class="app-search-box col">
                            <form class="app-search-form">
                                <input type="text" placeholder="Search..." name="search"
                                    class="form-control search-input">
                                <button type="submit" class="btn search-btn btn-primary" value="Search"><i
                                        class="fas fa-search"></i></button>
                            </form>
                        </div><!--//app-search-box-->

                        <div class="app-utilities col-auto">
                            <div class="app-utility-item app-user-dropdown dropdown">
                                <a class="dropdown-toggle" id="user-dropdown-toggle" data-bs-toggle="dropdown" href="#"
                                    role="button" aria-expanded="false"><img src="{% static 'assets/images/user.png' %}"
                                        alt="user profile"></a>
                                <ul class="dropdown-menu" aria-labelledby="user-dropdown-toggle">
                                    <li><a class="dropdown-item" href="">Settings</a></li>
                                    <li>
                                        <hr class="dropdown-divider">
                                    </li>
                                    <li><a class="dropdown-item" href="{% url 'logout' %}">Log Out</a></li>
                                </ul>
                            </div><!--//app-user-dropdown-->
                        </div><!--//app-utilities-->
                    </div><!--//row-->
                </div><!--//app-header-content-->
            </div><!--//container-fluid-->
        </div><!--//app-header-inner-->
        <div id="app-sidepanel" class="app-sidepanel">
            <div id="sidepanel-drop" class="sidepanel-drop"></div>
            <div class="sidepanel-inner d-flex flex-column">
                <a href="#" id="sidepanel-close" class="sidepanel-close d-xl-none">&times;</a>
                <div class="app-branding">
                    <a class="app-logo" href="{% url 'home' %}"><img class="logo-icon me-2"
                            src="{% static 'assets/images/app-logo.svg' %}" alt="logo"><span
                            class="logo-text">GREENGUARD</span></a>

                </div><!--//app-branding-->

                <nav id="app-nav-main" class="app-nav app-nav-main flex-grow-1">
                    <ul class="app-menu list-unstyled accordion" id="menu-accordion">
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'dashboard' %}">
                                <span class="nav-icon">
                                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-house-door"
                                        fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd"
                                            d="M7.646 1.146a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 .146.354v7a.5.5 0 0 1-.5.5H9.5a.5.5 0 0 1-.5-.5v-4H7v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .146-.354l6-6zM2.5 7.707V14H6v-4a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4h3.5V7.707L8 2.207l-5.5 5.5z" />
                                        <path fill-rule="evenodd"
                                            d="M13 2.5V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z" />
                                    </svg>
                                </span>
                                <span class="nav-link-text">Tablero</span>
                            </a><!--//nav-link-->
                        </li><!--//nav-item-->
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'monitoring' %}">
                                <span class="nav-icon">
                                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-card-list"
                                        fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd"
                                            d="M14.5 3h-13a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z" />
                                        <path fill-rule="evenodd"
                                            d="M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8zm0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5z" />
                                        <circle cx="3.5" cy="5.5" r=".5" />
                                        <circle cx="3.5" cy="8" r=".5" />
                                        <circle cx="3.5" cy="10.5" r=".5" />
                                    </svg>
                                </span>
                                <span class="nav-link-text">Monitoreo</span>
                            </a><!--//nav-link-->
                        </li><!--//nav-item-->
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'greenhouses' %}">
                                <span class="nav-icon">
                                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-bar-chart-line"
                                        fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd"
                                            d="M11 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h1V7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7h1V2zm1 12h2V2h-2v12zm-3 0V7H7v7h2zm-5 0v-3H2v3h2z" />
                                    </svg>
                                </span>
                                <span class="nav-link-text">Invernaderos</span>
                            </a><!--//nav-link-->
                        </li><!--//nav-item-->
                        <li class="nav-item">
                            <!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
                            <a class="nav-link active" href="{% url 'orders' %}">
                                <span class="nav-icon">
                                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-columns-gap"
                                        fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd"
                                            d="M6 1H1v3h5V1zM1 0a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1H1zm14 12h-5v3h5v-3zm-5-1a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-5zM6 8H1v7h5V8zM1 7a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1H1zm14-6h-5v7h5V1zm-5-1a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1h-5z" />
                                    </svg>
                                </span>
                                <span class="nav-link-text">GreenShare</span>
                            </a><!--//nav-link-->
                        </li><!--//nav-item-->
                    </ul><!--//app-menu-->
                </nav><!--//app-nav-->
            </div><!--//sidepanel-inner-->
        </div><!--//app-sidepanel-->
    </header><!--//app-header-->

    <div class="app-wrapper">
        <div class="app-content pt-3 p-md-3 p-lg-4">
            <div class="container mt-3">
                <h1>GreenShare</h1>

                <div class="row my-4">
                    <div class="col-md-4">
                        <input type="text" class="form-control" placeholder="Search orders">
                    </div>
                    <div class="col-md-3">
                        <select class="form-select">
                            <option selected>All</option>
                            <option>This week</option>
                            <option>This month</option>
                            <option>Last 3 months</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <button class="btn btn-secondary w-100">Download CSV</button>
                    </div>
                </div>

                <div class="tab-content mt-3" id="ordersTabContent">
                    <div class="tab-pane fade show active" id="all" role="tabpanel">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Grower ID</th>
                                    <th>Producto</th>
                                    <th>Customer</th>
                                    <th>Última Actualización</th>
                                    <th>Salud General</th>
                                    <th>Calificación</th>
                                    <th>Contacta</th>
                                </tr>
                            </thead>
                            <tbody id="orderTableBody">
                                <!-- Table rows will be inserted here by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                    <div class="tab-pane fade" id="paid" role="tabpanel">
                        <!-- Content for Paid tab -->
                    </div>
                    <div class="tab-pane fade" id="pending" role="tabpanel">
                        <!-- Content for Pending tab -->
                    </div>
                    <div class="tab-pane fade" id="cancelled" role="tabpanel">
                        <!-- Content for Cancelled tab -->
                    </div>
                </div>
            </div>
        </div>

        <footer class="app-footer">
            <div class="container text-center py-3">
                <small class="copyright">Crafted with passion for growers by <a class="app-link" href="{% url 'home' %}"
                        target="_blank">GreenGuard</a><span class="sr-only"></span> <i class="fas fa-leaf"
                        style="color: #327230;"></i></small>
            </div>
        </footer><!--//app-footer-->

    </div><!--//app-wrapper-->

    <!-- Javascript -->
    <script src="{% static 'assets/plugins/popper.min.js' %}"></script>
    <script src="{% static 'assets/plugins/bootstrap/js/bootstrap.min.js' %}"></script>

    <!-- Page Specific JS -->
    <script src="{% static 'assets/js/app.js' %}"></script>

    <script>
        // Function to add a new order row
        function addOrderRow(order, product, customer, date, percentage, total) {
            var tableBody = document.getElementById('orderTableBody');
            var newRow = tableBody.insertRow();
            var statusColor = percentage >= 95 ? 'success' : percentage >= 90 ? 'warning' : 'danger';
            newRow.innerHTML = `
                <td>${order}</td>
                <td>${product}</td>
                <td>${customer}</td>
                <td>${date}</td>
                <td><span class="badge bg-${statusColor}">${percentage}%</span></td>
                <td>${total}</td>
                <td><button class="btn btn-sm btn-secondary">Contactar</button></td>
            `;
        }

        // Add initial orders
        addOrderRow('#67890', 'Tomate', 'Emily Johnson', '3 Nov, 9:45 AM', 53, '7/10');
        addOrderRow('#23456', 'Arroz', 'Michael Brown', '18 Oct, 11:30 AM', 99, '10/10');
        addOrderRow('#78901', 'Pepino', 'Sarah Davis', '22 Oct, 3:20 PM', 72, '8/10');
        addOrderRow('#34567', 'Tomate, Arroz', 'David Wilson', '5 Nov, 1:15 PM', 88, '6/10');
        addOrderRow('#89012', 'Arroz, Pepino', 'Lisa Martinez', '29 Oct, 10:05 AM', 91, '9/10');
        addOrderRow('#45678', 'Tomate, Pepino', 'Robert Taylor', '12 Nov, 4:50 PM', 65, '7/10');
        addOrderRow('#90123', 'Tomate', 'Jennifer Anderson', '8 Nov, 2:35 PM', 41, '5/10');
        addOrderRow('#56789', 'Arroz', 'Christopher Lee', '1 Nov, 9:20 AM', 100, '10/10');
        addOrderRow('#01234', 'Pepino', 'Amanda White', '25 Oct, 12:40 PM', 59, '7/10');
        addOrderRow('#67890', 'Tomate, Arroz, Pepino', 'Daniel Harris', '14 Nov, 3:55 PM', 94, '8/10');
        addOrderRow('#23456', 'Tomate', 'Michelle Clark', '7 Nov, 11:10 AM', 77, '6/10');
        addOrderRow('#78901', 'Arroz', 'James Rodriguez', '30 Oct, 1:25 PM', 96, '9/10');
        addOrderRow('#34567', 'Pepino', 'Elizabeth Moore', '19 Oct, 10:15 AM', 83, '7/10');
        addOrderRow('#89012', 'Tomate, Arroz', 'William Jackson', '9 Nov, 4:30 PM', 69, '8/10');
        addOrderRow('#45678', 'Arroz, Pepino', 'Patricia Lewis', '2 Nov, 2:50 PM', 98, '7/10');
        addOrderRow('#90123', 'Tomate, Pepino', 'Thomas Hall', '27 Oct, 9:05 AM', 56, '6/10');
        addOrderRow('#56789', 'Tomate', 'Barbara Young', '16 Nov, 1:40 PM', 43, '8/10');
        addOrderRow('#01234', 'Arroz', 'Richard Scott', '21 Oct, 3:25 PM', 97, '9/10');
        addOrderRow('#67890', 'Pepino', 'Margaret King', '11 Nov, 10:55 AM', 71, '7/10');
        addOrderRow('#23456', 'Tomate, Arroz, Pepino', 'Joseph Wright', '4 Nov, 5:00 PM', 92, '8/10');


        // You can easily add more rows by copy-pasting the addOrderRow function call and changing the values
        // For example:
        // addOrderRow('#15341', 'New product', 'New customer', '11 Oct, 11:18 AM', 93, '$678.26');
    </script>

</body>

</html>